<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8" />
		<title></title>
		<script src="/socket.io/socket.io.js"></script>
		<script src="/terminal.js"></script>
		<script>
			window.onload = function() {
				var socket = io.connect();
				var target = document.getElementById('term');
				var term_buffer = new terminal.TermBuffer(80, 24);
				var term_writer = new terminal.TermWriter(term_buffer);
				var dom_renderer = new terminal.renderer.DomRenderer(term_buffer, term_writer, target);

				socket
					.on('data', function (data) {
						term_writer.write(data);
					})
					.on('exit', function (data) {
						alert("Terminal has closed.");
						target.style.opacity = "0.5";
					})
			}
		</script>
	</head>
	<body>
		<div id="term">
		</div>
	</body>
</html>
